(this["webpackJsonpreact-web-push"]=this["webpackJsonpreact-web-push"]||[]).push([[0],{29:function(e,t,n){e.exports=n(57)},34:function(e,t,n){},36:function(e,t,n){},57:function(e,t,n){"use strict";n.r(t);var a=n(7),o=n.n(a),r=n(26),c=n.n(r),i=(n(34),n(11)),s=n(14),l=n(10),u=n.n(l),p=n(15),f=n(28),g=(n(36),n(16));g.a.initializeApp({apiKey:"AIzaSyBLHyS6cFDXeQL_V4o_TWv6p46JW2A4eho",authDomain:"push-notify-a0da7.firebaseapp.com",projectId:"push-notify-a0da7",storageBucket:"push-notify-a0da7.appspot.com",messagingSenderId:"133411563790",appId:"1:133411563790:web:7bebf658b7048f45d20f5f"});var d=g.a.messaging();d.usePublicVapidKey("BFtDve2zjg6sjYT1xcwFfX6l98zA9YwTTvWKw38cm5rxpRVsNCKnQLksfvqMHP5NogFbUVCpVgD5dD5Ybg2G2FQ");var m=n(27),b=n.n(m);function h(){var e=Object(a.useState)({title:"",body:""}),t=Object(f.a)(e,2),n=t[0],r=t[1],c=n.title,l=n.body;Object(a.useEffect)((function(){g()}),[]);var g=function(){var e=Object(p.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.requestPermission();case 2:return e.next=4,d.getToken();case 4:t=e.sent,console.log("token :",t),localStorage.setItem("token",t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(e){r(Object(s.a)(Object(s.a)({},n),{},Object(i.a)({},e.target.name,e.target.value)))},h=function(){var e=Object(p.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.stringify({notification:{title:"Firebase",body:"Firebase is awesome",click_action:"http://localhost:3000/",icon:"http://url-to-an-icon/icon.png"},to:localStorage.getItem("token")}),n={method:"post",url:"https://fcm.googleapis.com/fcm/send",headers:{authorization:"key=AAAAHw_y6Q4:APA91bHZgk-Cg7uwd14df8gyQWLnaw8y-s88mcN1oHhKOffR2fkAcrQb1LXk-DzFSBjENZtE-XMiu0GVmrPUaYOwpiyIW-o0H0EwyxT-hXs1mDWSCCTXGfpN4rLbNYSkYs2XEX0mPdEk","Content-Type":"application/json"},data:t},e.next=4,b()(n).then((function(e){console.log(JSON.stringify(e.data))})).catch((function(e){console.log(e)}));case 4:console.log("calling onMessage"),d.onMessage((function(e){console.log("Message received. ",e)})),console.log("called onMessage");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return o.a.createElement("div",{className:"App"},o.a.createElement("h1",null,"Send Notifiction"),o.a.createElement("br",null),o.a.createElement("input",{type:"text",placeholder:"Title",name:"title",value:c,onChange:function(e){return m(e)}}),o.a.createElement("br",null),o.a.createElement("input",{type:"text",placeholder:"Body",name:"body",value:l,onChange:function(e){return m(e)}}),o.a.createElement("br",null),o.a.createElement("button",{onClick:function(){return h()}},"Send"))}"serviceWorker"in navigator&&navigator.serviceWorker.register("/reactfcm/firebase-messaging-sw.js").then((function(e){console.log("Registration successful, scope is:",e.scope)})).catch((function(e){console.log("Service worker registration failed, error:",e)})),c.a.render(o.a.createElement(h,null),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.2c1c9696.chunk.js.map
