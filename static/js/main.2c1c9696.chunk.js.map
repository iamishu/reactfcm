{"version":3,"sources":["firebase.js","App.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","messaging","usePublicVapidKey","App","useState","title","body","state","setState","useEffect","getFCMToken","a","requestPermission","getToken","token","console","log","localStorage","setItem","handleChange","e","target","name","value","handleSend","data","JSON","stringify","getItem","config","method","url","headers","axios","then","response","catch","error","onMessage","payload","className","type","placeholder","onChange","onClick","navigator","serviceWorker","register","registration","scope","err","ReactDOM","render","document","getElementById"],"mappings":"0TAWAA,IAASC,cATM,CACbC,OAAQ,0CACRC,WAAY,oCACZC,UAAW,oBACXC,cAAe,gCACfC,kBAAmB,eACnBC,MAAO,8CAKT,IAAMC,EAAYR,IAASQ,YAE3BA,EAAUC,kBAEN,2F,qBCZW,SAASC,IAEtB,MAA0BC,mBAAS,CACjCC,MAAO,GACPC,KAAM,KAFR,mBAAOC,EAAP,KAAcC,EAAd,KAKOH,EAAeE,EAAfF,MAAOC,EAAQC,EAARD,KAEdG,qBAAU,WACRC,MACC,IAEH,IAAMA,EAAW,uCAAG,4BAAAC,EAAA,sEACZV,EAAUW,oBADE,uBAEEX,EAAUY,WAFZ,OAEZC,EAFY,OAGlBC,QAAQC,IAAI,UAAWF,GACvBG,aAAaC,QAAQ,QAASJ,GAJZ,2CAAH,qDAQXK,EAAe,SAACC,GACpBZ,EAAS,2BAAID,GAAL,kBAAaa,EAAEC,OAAOC,KAAOF,EAAEC,OAAOE,UAG1CC,EAAU,uCAAG,8BAAAb,EAAA,6DACXc,EAAOC,KAAKC,UAAU,CAC1B,aAAgB,CACd,MAAS,WACT,KAAQ,sBACR,aAAgB,yBAChB,KAAQ,kCAEV,GAAMV,aAAaW,QAAQ,WAG3BC,EAAS,CACbC,OAAQ,OACRC,IAAK,sCACLC,QAAS,CACP,cAAiB,+JACjB,eAAgB,oBAElBP,KAAOA,GAlBY,SAqBfQ,IAAMJ,GACXK,MAAK,SAACC,GACLpB,QAAQC,IAAIU,KAAKC,UAAUQ,EAASV,UAErCW,OAAM,SAACC,GACNtB,QAAQC,IAAIqB,MA1BO,OA4BrBtB,QAAQC,IAAI,qBACZf,EAAUqC,WAAU,SAAUC,GAC5BxB,QAAQC,IAAI,qBAAsBuB,MAEpCxB,QAAQC,IAAI,oBAhCS,2CAAH,qDAoChB,OACE,yBAAKwB,UAAU,OACb,gDACA,6BACA,2BAAOC,KAAK,OAAOC,YAAY,QAAQpB,KAAK,QAAQC,MAAOlB,EAAOsC,SAAU,SAACvB,GAAD,OAAOD,EAAaC,MAAM,6BACtG,2BAAOqB,KAAK,OAAOC,YAAY,OAAOpB,KAAK,OAAOC,MAAOjB,EAAMqC,SAAU,SAACvB,GAAD,OAAOD,EAAaC,MAAM,6BACnG,4BAAQwB,QAAS,kBAAMpB,MAAvB,SCnEF,kBAAmBqB,WACnBA,UAAUC,cACPC,SAAS,8BACTb,MAAK,SAASc,GACbjC,QAAQC,IAAI,qCAAsCgC,EAAaC,UAEhEb,OAAM,SAASc,GACdnC,QAAQC,IAAI,6CAA8CkC,MAIlEC,IAASC,OAAQ,kBAAE,EAAF,MAAYC,SAASC,eAAe,W","file":"static/js/main.2c1c9696.chunk.js","sourcesContent":["import firebase from \"firebase\";\r\n\r\nconst config = {\r\n  apiKey: \"AIzaSyBLHyS6cFDXeQL_V4o_TWv6p46JW2A4eho\",\r\n  authDomain: \"push-notify-a0da7.firebaseapp.com\",\r\n  projectId: \"push-notify-a0da7\",\r\n  storageBucket: \"push-notify-a0da7.appspot.com\",\r\n  messagingSenderId: \"133411563790\",\r\n  appId: \"1:133411563790:web:7bebf658b7048f45d20f5f\"\r\n};\r\n\r\nfirebase.initializeApp(config);\r\n\r\nconst messaging = firebase.messaging();\r\n\r\nmessaging.usePublicVapidKey(\r\n  // Project Settings => Cloud Messaging => Web Push certificates\r\n    \"BFtDve2zjg6sjYT1xcwFfX6l98zA9YwTTvWKw38cm5rxpRVsNCKnQLksfvqMHP5NogFbUVCpVgD5dD5Ybg2G2FQ\"\r\n);\r\n  \r\nexport { messaging };","import \"./App.css\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport {messaging} from \"./firebase\";\r\nimport axios from 'axios';\r\n\r\nexport default function App() {\r\n\r\n  const [state, setState] = useState({\r\n    title: '',\r\n    body: '',\r\n  });\r\n\r\n  const {title, body} = state;\r\n\r\n  useEffect(() => {\r\n    getFCMToken();\r\n  }, []);\r\n\r\n  const getFCMToken = async () => {\r\n    await messaging.requestPermission();\r\n    const token = await messaging.getToken();\r\n    console.log(\"token :\", token);\r\n    localStorage.setItem(\"token\", token);\r\n  };\r\n  \r\n\r\n  const handleChange = (e) => {\r\n    setState({...state, [e.target.name]: e.target.value});\r\n  }\r\n\r\n  const handleSend = async () => {\r\n    const data = JSON.stringify({\r\n      \"notification\": {\r\n        \"title\": \"Firebase\",\r\n        \"body\": \"Firebase is awesome\",\r\n        \"click_action\": \"http://localhost:3000/\",\r\n        \"icon\": \"http://url-to-an-icon/icon.png\"\r\n    },\r\n      \"to\": localStorage.getItem(\"token\")\r\n    });\r\n\r\nconst config = {\r\n  method: 'post',\r\n  url: 'https://fcm.googleapis.com/fcm/send',\r\n  headers: { \r\n    'authorization': 'key=AAAAHw_y6Q4:APA91bHZgk-Cg7uwd14df8gyQWLnaw8y-s88mcN1oHhKOffR2fkAcrQb1LXk-DzFSBjENZtE-XMiu0GVmrPUaYOwpiyIW-o0H0EwyxT-hXs1mDWSCCTXGfpN4rLbNYSkYs2XEX0mPdEk', \r\n    'Content-Type': 'application/json'\r\n  },\r\n  data : data\r\n};\r\n\r\nawait axios(config)\r\n.then((response) => {\r\n  console.log(JSON.stringify(response.data));\r\n})\r\n.catch((error) => {\r\n  console.log(error);\r\n});\r\nconsole.log(\"calling onMessage\");\r\nmessaging.onMessage(function (payload) {\r\n  console.log(\"Message received. \", payload);\r\n});\r\nconsole.log(\"called onMessage\");\r\n}\r\n\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <h1>Send Notifiction</h1>\r\n      <br/>\r\n      <input type=\"text\" placeholder=\"Title\" name=\"title\" value={title} onChange={(e) => handleChange(e)} /><br/>\r\n      <input type=\"text\" placeholder=\"Body\" name=\"body\" value={body} onChange={(e) => handleChange(e)} /><br/>\r\n      <button onClick={() => handleSend()}>Send</button>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\n\r\nif (\"serviceWorker\" in navigator) {\r\n    navigator.serviceWorker\r\n      .register(\"/reactfcm/firebase-messaging-sw.js\")\r\n      .then(function(registration) {\r\n        console.log(\"Registration successful, scope is:\", registration.scope);\r\n      })\r\n      .catch(function(err) {\r\n        console.log(\"Service worker registration failed, error:\", err);\r\n      });\r\n}\r\n\r\nReactDOM.render( < App / > , document.getElementById(\"root\"));\r\n\r\n"],"sourceRoot":""}
